{% extends "roles/base_roles.html" %}

{% block title %}Panel de la Secretaria{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card shadow-lg p-4">
        <h2 class="mb-4 text-center">Panel de Gestión - Secretaria</h2>
        <p class="text-center text-muted">
            Bienvenido al panel de gestión de la secretaria. Aquí puedes supervisar usuarios, boletas y realizar las funciones necesarias para mantener el sistema actualizado.
        </p>

        <!-- Datos Relevantes -->
        <div class="row text-center mb-4">
            <div class="col-md-3">
                <div class="card bg-light shadow-sm p-3 h-100">
                    <h5 class="card-title">Usuarios Totales</h5>
                    <p class="display-6 text-primary">{{ total_usuarios }}</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-light shadow-sm p-3 h-100">
                    <h5 class="card-title">Boletas Pagadas</h5>
                    <p class="display-6 text-success">{{ boletas_pagadas }}</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-light shadow-sm p-3 h-100">
                    <h5 class="card-title">Boletas Pendientes</h5>
                    <p class="display-6 text-danger">{{ boletas_pendientes }}</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card bg-light shadow-sm p-3 h-100">
                    <h5 class="card-title">Medidores Activos</h5>
                    <p class="display-6 text-warning">{{ medidores_activos }}</p>
                </div>
            </div>
        </div>

        <hr class="my-4">

        <!-- Gestión de Funcionalidades -->
        <div class="row mt-4">
            <div class="col-md-6 mb-4">
                <div class="card border-primary h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title text-primary">Gestión de Usuarios</h5>
                        <p>Accede a la lista de usuarios registrados y agrega nuevos usuarios al sistema.</p>
                        <a href="{% url 'usuarios:lista_usuarios' %}" class="btn btn-primary btn-sm">Ver Usuarios</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mb-4">
                <div class="card border-info h-100">
                    <div class="card-body text-center">
                        <h5 class="card-title text-dark">Gestión de Boletas</h5>
                        <p class="text-muted">Accede al historial de boletas recientes, busca usuarios y genera nuevas boletas.</p>
                        <a href="{% url 'boletas:historial_recientes' %}" class="btn btn-primary btn-sm">Historial de Boletas Recientes</a>
                        <a href="{% url 'boletas:buscar_usuario' %}" class="btn btn-secondary btn-sm mt-2">Buscar Usuario</a>
                        <a href="{% url 'boletas:seleccionar_usuario' %}" class="btn btn-outline-primary btn-sm mt-2">Generar Boleta</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
